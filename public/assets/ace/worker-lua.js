"no use strict";!function(t){if("undefined"==typeof t.window||!t.document){t.console=function(){var t=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:t})},t.console.error=t.console.warn=t.console.log=t.console.trace=t.console,t.window=t,t.ace=t,t.onerror=function(t,e,i,n,s){postMessage({type:"error",data:{message:t,file:e,line:i,col:n,stack:s.stack}})},t.normalizeModule=function(e,i){if(-1!==i.indexOf("!")){var n=i.split("!");return t.normalizeModule(e,n[0])+"!"+t.normalizeModule(e,n[1])}if("."==i.charAt(0)){var s=e.split("/").slice(0,-1).join("/");for(i=(s?s+"/":"")+i;-1!==i.indexOf(".")&&o!=i;){var o=i;i=i.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return i},t.require=function(e,i){if(i||(i=e,e=null),!i.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");i=t.normalizeModule(e,i);var n=t.require.modules[i];if(n)return n.initialized||(n.initialized=!0,n.exports=n.factory().exports),n.exports;var s=i.split("/");if(!t.require.tlns)return console.log("unable to load "+i);s[0]=t.require.tlns[s[0]]||s[0];var o=s.join("/")+".js";return t.require.id=i,importScripts(o),t.require(e,i)},t.require.modules={},t.require.tlns={},t.define=function(e,i,n){if(2==arguments.length?(n=i,"string"!=typeof e&&(i=e,e=t.require.id)):1==arguments.length&&(n=e,i=[],e=t.require.id),"function"!=typeof n)return void(t.require.modules[e]={exports:n,initialized:!0});i.length||(i=["require","exports","module"]);var s=function(i){return t.require(e,i)};t.require.modules[e]={exports:{},factory:function(){var t=this,e=n.apply(this,i.map(function(e){switch(e){case"require":return s;case"exports":return t.exports;case"module":return t;default:return s(e)}}));return e&&(t.exports=e),t}}},t.define.amd={},t.initBaseUrls=function(t){require.tlns=t},t.initSender=function(){var e=t.require("ace/lib/event_emitter").EventEmitter,i=t.require("ace/lib/oop"),n=function(){};return function(){i.implement(this,e),this.callback=function(t,e){postMessage({type:"call",id:e,data:t})},this.emit=function(t,e){postMessage({type:"event",name:t,data:e})}}.call(n.prototype),new n};var e=t.main=null,i=t.sender=null;t.onmessage=function(n){var s=n.data;if(s.command){if(!e[s.command])throw new Error("Unknown command:"+s.command);e[s.command].apply(e,s.args)}else if(s.init){initBaseUrls(s.tlns),require("ace/lib/es5-shim"),i=t.sender=initSender();var o=require(s.module)[s.classname];e=t.main=new o(i)}else s.event&&i&&i._signal(s.event,s.data)}}}(this),define("ace/lib/oop",["require","exports","module"],function(t,e,i){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var i in e)t[i]=e[i];return t},e.implement=function(t,i){e.mixin(t,i)}}),define("ace/lib/event_emitter",["require","exports","module"],function(t,e,i){"use strict";var n={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[t]||[],n=this._defaultHandlers[t];if(i.length||n){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=s),e.preventDefault||(e.preventDefault=o),i=i.slice();for(var r=0;r<i.length&&(i[r](e,this),!e.propagationStopped);r++);return n&&!e.defaultPrevented?n(e,this):void 0}},n._signal=function(t,e){var i=(this._eventRegistry||{})[t];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](e,this)}},n.once=function(t,e){var i=this;e&&this.addEventListener(t,function n(){i.removeEventListener(t,n),e.apply(null,arguments)})},n.setDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[t]){var n=i[t],s=i._disabled_[t];s||(i._disabled_[t]=s=[]),s.push(n);var o=s.indexOf(e);-1!=o&&s.splice(o,1)}i[t]=e},n.removeDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i){var n=i._disabled_[t];if(i[t]==e){i[t];n&&this.setDefaultHandler(t,n.pop())}else if(n){var s=n.indexOf(e);-1!=s&&n.splice(s,1)}}},n.on=n.addEventListener=function(t,e,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];return n||(n=this._eventRegistry[t]=[]),-1==n.indexOf(e)&&n[i?"unshift":"push"](e),e},n.off=n.removeListener=n.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];if(i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=n}),define("ace/range",["require","exports","module"],function(t,e,i){"use strict";var n=function(t,e){return t.row-e.row||t.column-e.column},s=function(t,e,i,n){this.start={row:t,column:e},this.end={row:i,column:n}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,i=t.end,n=t.start;return e=this.compare(i.row,i.column),1==e?(e=this.compare(n.row,n.column),1==e?2:0==e?1:0):-1==e?-2:(e=this.compare(n.row,n.column),-1==e?-1:1==e?42:0)},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)||this.isStart(t,e)?!1:!0:!1},this.insideStart=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)?!1:!0:!1},this.insideEnd=function(t,e){return 0==this.compare(t,e)?this.isStart(t,e)?!1:!0:!1},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var i={row:e+1,column:0};else if(this.end.row<t)var i={row:t,column:0};if(this.start.row>e)var n={row:e+1,column:0};else if(this.start.row<t)var n={row:t,column:0};return s.fromPoints(n||this.start,i||this.end)},this.extend=function(t,e){var i=this.compare(t,e);if(0==i)return this;if(-1==i)var n={row:t,column:e};else var o={row:t,column:e};return s.fromPoints(n||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return s.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),i=t.documentToScreenPosition(this.end);return new s(e.row,e.column,i.row,i.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(s.prototype),s.fromPoints=function(t,e){return new s(t.row,t.column,e.row,e.column)},s.comparePoints=n,s.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=s}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),s=t("./lib/event_emitter").EventEmitter,o=e.Anchor=function(t,e,i){this.$onChange=this.onChange.bind(this),this.attach(t),"undefined"==typeof i?this.setPosition(e.row,e.column):this.setPosition(e,i)};(function(){n.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){var e=t.data,i=e.range;if((i.start.row!=i.end.row||i.start.row==this.row)&&!(i.start.row>this.row||i.start.row==this.row&&i.start.column>this.column)){var n=this.row,s=this.column,o=i.start,r=i.end;"insertText"===e.action?o.row===n&&o.column<=s?o.column===s&&this.$insertRight||(o.row===r.row?s+=r.column-o.column:(s-=o.column,n+=r.row-o.row)):o.row!==r.row&&o.row<n&&(n+=r.row-o.row):"insertLines"===e.action?o.row===n&&0===s&&this.$insertRight||o.row<=n&&(n+=r.row-o.row):"removeText"===e.action?o.row===n&&o.column<s?s=r.column>=s?o.column:Math.max(0,s-(r.column-o.column)):o.row!==r.row&&o.row<n?(r.row===n&&(s=Math.max(0,s-r.column)+o.column),n-=r.row-o.row):r.row===n&&(n-=r.row-o.row,s=Math.max(0,s-r.column)+o.column):"removeLines"==e.action&&o.row<=n&&(r.row<=n?n-=r.row-o.row:(n=o.row,s=0)),this.setPosition(n,s,!0)}},this.setPosition=function(t,e,i){var n;if(n=i?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=n.row||this.column!=n.column){var s={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:s,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var i={};return t>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):0>t?(i.row=0,i.column=0):(i.row=t,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,e))),0>e&&(i.column=0),i}}).call(o.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e,i){"use strict";var n=t("./lib/oop"),s=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,r=t("./anchor").Anchor,a=function(t){this.$lines=[],0===t.length?this.$lines=[""]:Array.isArray(t)?this._insertLines(0,t):this.insert({row:0,column:0},t)};(function(){n.implement(this,s),this.setValue=function(t){var e=this.getLength();this.remove(new o(0,0,e,this.getLine(e-1).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new r(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){if(t.start.row==t.end.row)return this.getLine(t.start.row).substring(t.start.column,t.end.column);var e=this.getLines(t.start.row,t.end.row);e[0]=(e[0]||"").substring(t.start.column);var i=e.length-1;return t.end.row-t.start.row==i&&(e[i]=e[i].substring(0,t.end.column)),e.join(this.getNewLineCharacter())},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):t.row<0&&(t.row=0),t},this.insert=function(t,e){if(!e||0===e.length)return t;t=this.$clipPosition(t),this.getLength()<=1&&this.$detectNewLine(e);var i=this.$split(e),n=i.splice(0,1)[0],s=0==i.length?null:i.splice(i.length-1,1)[0];return t=this.insertInLine(t,n),null!==s&&(t=this.insertNewLine(t),t=this._insertLines(t.row,i),t=this.insertInLine(t,s||"")),t},this.insertLines=function(t,e){return t>=this.getLength()?this.insert({row:t,column:0},"\n"+e.join("\n")):this._insertLines(Math.max(t,0),e)},this._insertLines=function(t,e){if(0==e.length)return{row:t,column:0};for(;e.length>2e4;){var i=this._insertLines(t,e.slice(0,2e4));e=e.slice(2e4),t=i.row}var n=[t,0];n.push.apply(n,e),this.$lines.splice.apply(this.$lines,n);var s=new o(t,0,t+e.length,0),r={action:"insertLines",range:s,lines:e};return this._signal("change",{data:r}),s.end},this.insertNewLine=function(t){t=this.$clipPosition(t);var e=this.$lines[t.row]||"";this.$lines[t.row]=e.substring(0,t.column),this.$lines.splice(t.row+1,0,e.substring(t.column,e.length));var i={row:t.row+1,column:0},n={action:"insertText",range:o.fromPoints(t,i),text:this.getNewLineCharacter()};return this._signal("change",{data:n}),i},this.insertInLine=function(t,e){if(0==e.length)return t;var i=this.$lines[t.row]||"";this.$lines[t.row]=i.substring(0,t.column)+e+i.substring(t.column);var n={row:t.row,column:t.column+e.length},s={action:"insertText",range:o.fromPoints(t,n),text:e};return this._signal("change",{data:s}),n},this.remove=function(t){if(t instanceof o||(t=o.fromPoints(t.start,t.end)),t.start=this.$clipPosition(t.start),t.end=this.$clipPosition(t.end),t.isEmpty())return t.start;var e=t.start.row,i=t.end.row;if(t.isMultiLine()){var n=0==t.start.column?e:e+1,s=i-1;t.end.column>0&&this.removeInLine(i,0,t.end.column),s>=n&&this._removeLines(n,s),n!=e&&(this.removeInLine(e,t.start.column,this.getLine(e).length),this.removeNewLine(t.start.row))}else this.removeInLine(e,t.start.column,t.end.column);return t.start},this.removeInLine=function(t,e,i){if(e!=i){var n=new o(t,e,t,i),s=this.getLine(t),r=s.substring(e,i),a=s.substring(0,e)+s.substring(i,s.length);this.$lines.splice(t,1,a);var l={action:"removeText",range:n,text:r};return this._signal("change",{data:l}),n.start}},this.removeLines=function(t,e){return 0>t||e>=this.getLength()?this.remove(new o(t,0,e+1,0)):this._removeLines(t,e)},this._removeLines=function(t,e){var i=new o(t,0,e+1,0),n=this.$lines.splice(t,e-t+1),s={action:"removeLines",range:i,nl:this.getNewLineCharacter(),lines:n};return this._signal("change",{data:s}),n},this.removeNewLine=function(t){var e=this.getLine(t),i=this.getLine(t+1),n=new o(t,e.length,t+1,0),s=e+i;this.$lines.splice(t,2,s);var r={action:"removeText",range:n,text:this.getNewLineCharacter()};this._signal("change",{data:r})},this.replace=function(t,e){if(t instanceof o||(t=o.fromPoints(t.start,t.end)),0==e.length&&t.isEmpty())return t.start;if(e==this.getTextRange(t))return t.end;if(this.remove(t),e)var i=this.insert(t.start,e);else i=t.start;return i},this.applyDeltas=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=o.fromPoints(i.range.start,i.range.end);"insertLines"==i.action?this.insertLines(n.start.row,i.lines):"insertText"==i.action?this.insert(n.start,i.text):"removeLines"==i.action?this._removeLines(n.start.row,n.end.row-1):"removeText"==i.action&&this.remove(n)}},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--){var i=t[e],n=o.fromPoints(i.range.start,i.range.end);"insertLines"==i.action?this._removeLines(n.start.row,n.end.row-1):"insertText"==i.action?this.remove(n):"removeLines"==i.action?this._insertLines(n.start.row,i.lines):"removeText"==i.action&&this.insert(n.start,i.text)}},this.indexToPosition=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=e||0,o=i.length;o>s;s++)if(t-=i[s].length+n,0>t)return{row:s,column:t+i[s].length+n};return{row:o-1,column:i[o-1].length}},this.positionToIndex=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=0,o=Math.min(t.row,i.length),r=e||0;o>r;++r)s+=i[r].length+n;return s+t.column}}).call(a.prototype),e.Document=a}),define("ace/lib/lang",["require","exports","module"],function(t,e,i){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var i="";e>0;)1&e&&(i+=t),(e>>=1)&&(t+=t);return i};var n=/^\s\s*/,s=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(n,"")},e.stringTrimRight=function(t){return t.replace(s,"")},e.copyObject=function(t){var e={};for(var i in t)e[i]=t[i];return e},e.copyArray=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&"object"==typeof t[i]?e[i]=this.copyObject(t[i]):e[i]=t[i];return e},e.deepCopy=function(t){if("object"!=typeof t||!t)return t;var i=t.constructor;if(i===RegExp)return t;var n=i();for(var s in t)"object"==typeof t[s]?n[s]=e.deepCopy(t[s]):n[s]=t[s];return n},e.arrayToMap=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var i in t)e[i]=t[i];return e},e.arrayRemove=function(t,e){for(var i=0;i<=t.length;i++)e===t[i]&&t.splice(i,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var i=[];return t.replace(e,function(t){i.push({offset:arguments[arguments.length-2],length:t.length})}),i},e.deferredCall=function(t){var e=null,i=function(){e=null,t()},n=function(t){return n.cancel(),e=setTimeout(i,t||0),n};return n.schedule=n,n.call=function(){return this.cancel(),t(),n},n.cancel=function(){return clearTimeout(e),e=null,n},n.isPending=function(){return e},n},e.delayedCall=function(t,e){var i=null,n=function(){i=null,t()},s=function(t){null==i&&(i=setTimeout(n,t||e))};return s.delay=function(t){i&&clearTimeout(i),i=setTimeout(n,t||e)},s.schedule=s,s.call=function(){this.cancel(),t()},s.cancel=function(){i&&clearTimeout(i),i=null},s.isPending=function(){return i},s}}),define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(t,e,i){"use strict";var n=t("../document").Document,s=t("../lib/lang"),o=e.Mirror=function(t){this.sender=t;var e=this.doc=new n(""),i=this.deferredUpdate=s.delayedCall(this.onUpdate.bind(this)),o=this;t.on("change",function(t){return e.applyDeltas(t.data),o.$timeout?i.schedule(o.$timeout):void o.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(t){this.$timeout=t},this.setValue=function(t){this.doc.setValue(t),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(t){this.sender.callback(this.doc.getValue(),t)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(o.prototype)}),define("ace/mode/lua/luaparse",["require","exports","module"],function(t,e,i){!function(t,i,n){n(e)}(this,"luaparse",function(t){"use strict";function e(t){if(Vt){var e=Gt.pop();e.complete(),yt.locations&&(t.loc=e.loc),yt.ranges&&(t.range=e.range)}return t}function i(t,e,i){for(var n=0,s=t.length;s>n;n++)if(t[n][e]===i)return n;return-1}function n(t){var e=Ht.call(arguments,1);return t=t.replace(/%(\d)/g,function(t,i){return""+e[i-1]||""})}function s(){for(var t,e,i=Ht.call(arguments),n={},s=0,o=i.length;o>s;s++){t=i[s];for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}return n}function o(t){var e,i,s=n.apply(null,Ht.call(arguments,1));throw"undefined"!=typeof t.line?(i=t.range[0]-t.lineStart,e=new SyntaxError(n("[%1:%2] %3",t.line,i,s)),e.line=t.line,e.index=t.range[0],e.column=i):(i=Lt-$t+1,e=new SyntaxError(n("[%1:%2] %3",Rt,i,s)),e.index=Lt,e.line=Rt,e.column=i),e}function r(t,e){o(e,Bt.expectedToken,t,e.value)}function a(t,e){if("undefined"==typeof e&&(e=Nt.value),"undefined"!=typeof t.type){var i;switch(t.type){case kt:i="string";break;case Ct:i="keyword";break;case Et:i="identifier";break;case Tt:i="number";break;case At:i="symbol";break;case St:i="boolean";break;case Dt:return o(t,Bt.unexpected,"symbol","nil",e)}return o(t,Bt.unexpected,i,t.value,e)}return o(t,Bt.unexpected,"symbol",t,e)}function l(){for(c();45===bt.charCodeAt(Lt)&&45===bt.charCodeAt(Lt+1);)y(),c();if(Lt>=_t)return{type:xt,value:"<eof>",line:Rt,lineStart:$t,range:[Lt,Lt]};var t=bt.charCodeAt(Lt),e=bt.charCodeAt(Lt+1);if(Ot=Lt,S(t))return h();switch(t){case 39:case 34:return p();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return m();case 46:return T(e)?m():46===e?46===bt.charCodeAt(Lt+2)?d():u(".."):u(".");case 61:return u(61===e?"==":"=");case 62:return u(61===e?">=":">");case 60:return u(61===e?"<=":"<");case 126:return 61===e?u("~="):o({},Bt.expected,"=","~");case 58:return u(58===e?"::":":");case 91:return 91===e||61===e?f():u("[");case 42:case 47:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return u(bt.charAt(Lt))}return a(bt.charAt(Lt))}function c(){for(;_t>Lt;){var t=bt.charCodeAt(Lt);if(C(t))Lt++;else{if(!E(t))break;Rt++,$t=++Lt}}}function h(){for(var t,e;D(bt.charCodeAt(++Lt)););return t=bt.slice(Ot,Lt),F(t)?e=Ct:"true"===t||"false"===t?(e=St,t="true"===t):"nil"===t?(e=Dt,t=null):e=Et,{type:e,value:t,line:Rt,lineStart:$t,range:[Ot,Lt]}}function u(t){return Lt+=t.length,{type:At,value:t,line:Rt,lineStart:$t,range:[Ot,Lt]}}function d(){return Lt+=3,{type:Ft,value:"...",line:Rt,lineStart:$t,range:[Ot,Lt]}}function p(){for(var t,e=bt.charCodeAt(Lt++),i=Lt,n="";_t>Lt&&(t=bt.charCodeAt(Lt++),e!==t);)92===t?(n+=bt.slice(i,Lt-1)+b(),i=Lt):(Lt>=_t||E(t))&&(n+=bt.slice(i,Lt-1),o({},Bt.unfinishedString,n+String.fromCharCode(t)));return n+=bt.slice(i,Lt-1),{type:kt,value:n,line:Rt,lineStart:$t,range:[Ot,Lt]}}function f(){var t=_();return!1===t&&o(Mt,Bt.expected,"[",Mt.value),{type:kt,value:t,line:Rt,lineStart:$t,range:[Ot,Lt]}}function m(){var t=bt.charAt(Lt),e=bt.charAt(Lt+1),i="0"===t&&"xX".indexOf(e||null)>=0?g():v();return{type:Tt,value:i,line:Rt,lineStart:$t,range:[Ot,Lt]}}function g(){var t,e,i,n,s=0,r=1,a=1;for(n=Lt+=2,A(bt.charCodeAt(Lt))||o({},Bt.malformedNumber,bt.slice(Ot,Lt));A(bt.charCodeAt(Lt));)Lt++;if(t=parseInt(bt.slice(n,Lt),16),"."===bt.charAt(Lt)){for(e=++Lt;A(bt.charCodeAt(Lt));)Lt++;s=bt.slice(e,Lt),s=e===Lt?0:parseInt(s,16)/Math.pow(16,Lt-e)}if("pP".indexOf(bt.charAt(Lt)||null)>=0){for(Lt++,"+-".indexOf(bt.charAt(Lt)||null)>=0&&(a="+"===bt.charAt(Lt++)?1:-1),i=Lt,T(bt.charCodeAt(Lt))||o({},Bt.malformedNumber,bt.slice(Ot,Lt));T(bt.charCodeAt(Lt));)Lt++;r=bt.slice(i,Lt),r=Math.pow(2,r*a)}return(t+s)*r}function v(){for(;T(bt.charCodeAt(Lt));)Lt++;if("."===bt.charAt(Lt))for(Lt++;T(bt.charCodeAt(Lt));)Lt++;if("eE".indexOf(bt.charAt(Lt)||null)>=0)for(Lt++,"+-".indexOf(bt.charAt(Lt)||null)>=0&&Lt++,T(bt.charCodeAt(Lt))||o({},Bt.malformedNumber,bt.slice(Ot,Lt));T(bt.charCodeAt(Lt));)Lt++;return parseFloat(bt.slice(Ot,Lt))}function b(){var t=Lt;switch(bt.charAt(Lt)){case"n":return Lt++,"\n";case"r":return Lt++,"\r";case"t":return Lt++,"	";case"v":return Lt++,"";case"b":return Lt++,"\b";case"f":return Lt++,"\f";case"z":return Lt++,c(),"";case"x":return A(bt.charCodeAt(Lt+1))&&A(bt.charCodeAt(Lt+2))?(Lt+=3,"\\"+bt.slice(t,Lt)):"\\"+bt.charAt(Lt++);default:if(T(bt.charCodeAt(Lt))){for(;T(bt.charCodeAt(++Lt)););return"\\"+bt.slice(t,Lt)}return bt.charAt(Lt++)}}function y(){Ot=Lt,Lt+=2;var t=bt.charAt(Lt),e="",i=!1,n=Lt,s=$t,o=Rt;if("["===t&&(e=_(),!1===e?e=t:i=!0),!i){for(;_t>Lt&&!E(bt.charCodeAt(Lt));)Lt++;yt.comments&&(e=bt.slice(n,Lt))}if(yt.comments){var r=jt.comment(e,bt.slice(Ot,Lt));yt.locations&&(r.loc={start:{line:o,column:Ot-s},end:{line:Rt,column:Lt-$t}}),yt.ranges&&(r.range=[Ot,Lt]),It.push(r)}}function _(){var t,e,i=0,n="",s=!1;for(Lt++;"="===bt.charAt(Lt+i);)i++;if("["!==bt.charAt(Lt+i))return!1;for(Lt+=i+1,E(bt.charCodeAt(Lt))&&(Rt++,$t=Lt++),e=Lt;_t>Lt;){if(t=bt.charAt(Lt++),E(t.charCodeAt(0))&&(Rt++,$t=Lt),"]"===t){s=!0;for(var o=0;i>o;o++)"="!==bt.charAt(Lt+o)&&(s=!1);"]"!==bt.charAt(Lt+i)&&(s=!1)}if(s)break}return n+=bt.slice(e,Lt-1),Lt+=i+1,n}function w(){Pt=Mt,Mt=Nt,Nt=l()}function x(t){return t===Mt.value?(w(),!0):!1}function k(t){t===Mt.value?w():o(Mt,Bt.expected,t,Mt.value)}function C(t){return 9===t||32===t||11===t||12===t}function E(t){return 10===t||13===t}function T(t){return t>=48&&57>=t}function A(t){return t>=48&&57>=t||t>=97&&102>=t||t>=65&&70>=t}function S(t){return t>=65&&90>=t||t>=97&&122>=t||95===t}function D(t){return t>=65&&90>=t||t>=97&&122>=t||95===t||t>=48&&57>=t}function F(t){switch(t.length){case 2:return"do"===t||"if"===t||"in"===t||"or"===t;case 3:return"and"===t||"end"===t||"for"===t||"not"===t;case 4:return"else"===t||"goto"===t||"then"===t;case 5:return"break"===t||"local"===t||"until"===t||"while"===t;case 6:return"elseif"===t||"repeat"===t||"return"===t;case 8:return"function"===t}return!1}function L(t){return At===t.type?"#-".indexOf(t.value)>=0:Ct===t.type?"not"===t.value:!1}function M(t){switch(t.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}function P(t){if(xt===t.type)return!0;if(Ct!==t.type)return!1;switch(t.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function N(){Wt.push(Array.apply(null,Wt[qt++]))}function I(){Wt.pop(),qt--}function O(t){-1===zt(Wt[qt],t)&&Wt[qt].push(t)}function R(t){O(t.name),$(t,!0)}function $(t,e){e||-1!==i(Ut,"name",t.name)||Ut.push(t),t.isLocal=e}function B(t){return-1!==zt(Wt[qt],t)}function j(){return new H(Mt)}function H(t){yt.locations&&(this.loc={start:{line:t.line,column:t.range[0]-t.lineStart},end:{line:0,column:0}}),yt.ranges&&(this.range=[t.range[0],0])}function z(){Vt&&Gt.push(j())}function W(t){Vt&&Gt.push(t)}function q(){w(),z();var t=U();return xt!==Mt.type&&a(Mt),Vt&&!t.length&&(Pt=Mt),e(jt.chunk(t))}function U(t){var e,i=[];for(yt.scope&&N();!P(Mt);){if("return"===Mt.value){i.push(V());break}e=V(),e&&i.push(e)}return yt.scope&&I(),i}function V(){if(z(),Ct===Mt.type)switch(Mt.value){case"local":return w(),it();case"if":return w(),tt();case"return":return w(),J();case"function":w();var t=rt();return ot(t);case"while":return w(),Q();case"for":return w(),et();case"repeat":return w(),Z();case"break":return w(),Y();case"do":return w(),X();case"goto":return w(),K()}return At===Mt.type&&x("::")?G():(Vt&&Gt.pop(),x(";")?void 0:nt())}function G(){var t=Mt.value,i=st();return yt.scope&&(O("::"+t+"::"),$(i,!0)),k("::"),e(jt.labelStatement(i))}function Y(){return e(jt.breakStatement())}function K(){var t=Mt.value,i=st();return yt.scope&&(i.isLabel=B("::"+t+"::")),e(jt.gotoStatement(i))}function X(){var t=U();return k("end"),e(jt.doStatement(t))}function Q(){var t=ct();k("do");var i=U();return k("end"),e(jt.whileStatement(t,i))}function Z(){var t=U();k("until");var i=ct();return e(jt.repeatStatement(i,t))}function J(){var t=[];if("end"!==Mt.value){var i=lt();for(null!=i&&t.push(i);x(",");)i=ct(),t.push(i);x(";")}return e(jt.returnStatement(t))}function tt(){var t,i,n,s=[];for(Vt&&(n=Gt[Gt.length-1],Gt.push(n)),t=ct(),k("then"),i=U(),s.push(e(jt.ifClause(t,i))),Vt&&(n=j());x("elseif");)W(n),t=ct(),k("then"),i=U(),s.push(e(jt.elseifClause(t,i))),Vt&&(n=j());return x("else")&&(Vt&&(n=new H(Pt),Gt.push(n)),i=U(),s.push(e(jt.elseClause(i)))),k("end"),e(jt.ifStatement(s))}function et(){var t,i=st();if(yt.scope&&R(i),x("=")){var n=ct();k(",");var s=ct(),o=x(",")?ct():null;return k("do"),t=U(),k("end"),e(jt.forNumericStatement(i,n,s,o,t))}for(var r=[i];x(",");)i=st(),yt.scope&&R(i),r.push(i);k("in");var a=[];do{var l=ct();a.push(l)}while(x(","));return k("do"),t=U(),k("end"),e(jt.forGenericStatement(r,a,t))}function it(){var t;if(Et===Mt.type){var i=[],n=[];do t=st(),i.push(t);while(x(","));if(x("="))do{var s=ct();n.push(s)}while(x(","));if(yt.scope)for(var o=0,a=i.length;a>o;o++)R(i[o]);return e(jt.localStatement(i,n))}return x("function")?(t=st(),yt.scope&&R(t),ot(t,!0)):void r("<name>",Mt)}function nt(){var t,i,n=Mt;if(Vt&&(i=j()),t=dt(),null==t)return a(Mt);if(",=".indexOf(Mt.value)>=0){for(var s,o=[t],l=[];x(",");)s=dt(),null==s&&r("<expression>",Mt),o.push(s);k("=");do s=ct(),l.push(s);while(x(","));return W(i),e(jt.assignmentStatement(o,l))}return M(t)?(W(i),e(jt.callStatement(t))):a(n)}function st(){z();var t=Mt.value;return Et!==Mt.type&&r("<name>",Mt),w(),e(jt.identifier(t))}function ot(t,i){var n=[];if(k("("),!x(")"))for(;;)if(Et===Mt.type){var s=st();if(yt.scope&&R(s),n.push(s),x(","))continue;if(x(")"))break}else{if(Ft===Mt.type){n.push(ft()),k(")");break}r("<name> or '...'",Mt)}var o=U();return k("end"),i=i||!1,e(jt.functionStatement(t,n,i,o))}function rt(){var t,i,n;for(Vt&&(n=j()),t=st(),yt.scope&&$(t,!1);x(".");)W(n),i=st(),yt.scope&&$(i,!1),t=e(jt.memberExpression(t,".",i));return x(":")&&(W(n),i=st(),yt.scope&&$(i,!1),t=e(jt.memberExpression(t,":",i))),t}function at(){for(var t,i,n=[];;){if(z(),At===Mt.type&&x("["))t=ct(),k("]"),k("="),i=ct(),n.push(e(jt.tableKey(t,i)));else if(Et===Mt.type)t=ct(),x("=")?(i=ct(),n.push(e(jt.tableKeyString(t,i)))):n.push(e(jt.tableValue(t)));else{if(null==(i=lt())){Gt.pop();break}n.push(e(jt.tableValue(i)))}if(",;".indexOf(Mt.value)>=0)w();else if("}"===Mt.value)break}return k("}"),e(jt.tableConstructorExpression(n))}function lt(){var t=ut(0);return t}function ct(){var t=lt();return null!=t?t:void r("<expression>",Mt)}function ht(t){var e=t.charCodeAt(0),i=t.length;if(1===i)switch(e){case 94:return 10;case 42:case 47:case 37:return 7;case 43:case 45:return 6;case 60:case 62:return 3}else if(2===i)switch(e){case 46:return 5;case 60:case 62:case 61:case 126:return 3;case 111:return 1}else if(97===e&&"and"===t)return 2;return 0}function ut(t){var i,n,s=Mt.value;if(Vt&&(n=j()),L(Mt)){z(),w();var o=ut(8);null==o&&r("<expression>",Mt),i=e(jt.unaryExpression(s,o))}if(null==i&&(i=ft(),null==i&&(i=dt())),null==i)return null;for(var a;;){if(s=Mt.value,a=At===Mt.type||Ct===Mt.type?ht(s):0,0===a||t>=a)break;("^"===s||".."===s)&&a--,w();var l=ut(a);null==l&&r("<expression>",Mt),Vt&&Gt.push(n),i=e(jt.binaryExpression(s,i,l))}return i}function dt(){var t,i,n,s;if(Vt&&(n=j()),Et===Mt.type)i=Mt.value,t=st(),yt.scope&&$(t,s=B(i));else{if(!x("("))return null;t=ct(),k(")"),yt.scope&&(s=t.isLocal)}for(var o,r;;)if(At===Mt.type)switch(Mt.value){case"[":W(n),w(),o=ct(),t=e(jt.indexExpression(t,o)),k("]");break;case".":W(n),w(),r=st(),yt.scope&&$(r,s),t=e(jt.memberExpression(t,".",r));break;case":":W(n),w(),r=st(),yt.scope&&$(r,s),t=e(jt.memberExpression(t,":",r)),W(n),t=pt(t);break;case"(":case"{":W(n),t=pt(t);break;default:return t}else{if(kt!==Mt.type)break;W(n),t=pt(t)}return t}function pt(t){if(At===Mt.type)switch(Mt.value){case"(":w();var i=[],n=lt();for(null!=n&&i.push(n);x(",");)n=ct(),i.push(n);return k(")"),e(jt.callExpression(t,i));case"{":z(),w();var s=at();return e(jt.tableCallExpression(t,s))}else if(kt===Mt.type)return e(jt.stringCallExpression(t,ft()));r("function arguments",Mt)}function ft(){var t,i=kt|Tt|St|Dt|Ft,n=Mt.value,s=Mt.type;if(Vt&&(t=j()),s&i){W(t);var o=bt.slice(Mt.range[0],Mt.range[1]);return w(),e(jt.literal(s,n,o))}return Ct===s&&"function"===n?(W(t),w(),ot(null)):x("{")?(W(t),at()):void 0}function mt(e,i){return"undefined"==typeof i&&"object"==typeof e&&(i=e,e=void 0),i||(i={}),bt=e||"",yt=s(wt,i),Lt=0,Rt=1,$t=0,_t=bt.length,Wt=[[]],qt=0,Ut=[],Gt=[],yt.comments&&(It=[]),yt.wait?t:vt()}function gt(e){return bt+=String(e),_t=bt.length,t}function vt(t){"undefined"!=typeof t&&gt(t),_t=bt.length,Vt=yt.locations||yt.ranges,Nt=l();var e=q();if(yt.comments&&(e.comments=It),yt.scope&&(e.globals=Ut),Gt.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return e}t.version="0.1.4";var bt,yt,_t,wt=t.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1},xt=1,kt=2,Ct=4,Et=8,Tt=16,At=32,St=64,Dt=128,Ft=256;t.tokenTypes={EOF:xt,StringLiteral:kt,Keyword:Ct,Identifier:Et,NumericLiteral:Tt,Punctuator:At,BooleanLiteral:St,NilLiteral:Dt,VarargLiteral:Ft};var Lt,Mt,Pt,Nt,It,Ot,Rt,$t,Bt=t.errors={unexpected:"Unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'"},jt=t.ast={labelStatement:function(t){return{type:"LabelStatement",
label:t}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(t){return{type:"GotoStatement",label:t}},returnStatement:function(t){return{type:"ReturnStatement",arguments:t}},ifStatement:function(t){return{type:"IfStatement",clauses:t}},ifClause:function(t,e){return{type:"IfClause",condition:t,body:e}},elseifClause:function(t,e){return{type:"ElseifClause",condition:t,body:e}},elseClause:function(t){return{type:"ElseClause",body:t}},whileStatement:function(t,e){return{type:"WhileStatement",condition:t,body:e}},doStatement:function(t){return{type:"DoStatement",body:t}},repeatStatement:function(t,e){return{type:"RepeatStatement",condition:t,body:e}},localStatement:function(t,e){return{type:"LocalStatement",variables:t,init:e}},assignmentStatement:function(t,e){return{type:"AssignmentStatement",variables:t,init:e}},callStatement:function(t){return{type:"CallStatement",expression:t}},functionStatement:function(t,e,i,n){return{type:"FunctionDeclaration",identifier:t,isLocal:i,parameters:e,body:n}},forNumericStatement:function(t,e,i,n,s){return{type:"ForNumericStatement",variable:t,start:e,end:i,step:n,body:s}},forGenericStatement:function(t,e,i){return{type:"ForGenericStatement",variables:t,iterators:e,body:i}},chunk:function(t){return{type:"Chunk",body:t}},identifier:function(t){return{type:"Identifier",name:t}},literal:function(t,e,i){return t=t===kt?"StringLiteral":t===Tt?"NumericLiteral":t===St?"BooleanLiteral":t===Dt?"NilLiteral":"VarargLiteral",{type:t,value:e,raw:i}},tableKey:function(t,e){return{type:"TableKey",key:t,value:e}},tableKeyString:function(t,e){return{type:"TableKeyString",key:t,value:e}},tableValue:function(t){return{type:"TableValue",value:t}},tableConstructorExpression:function(t){return{type:"TableConstructorExpression",fields:t}},binaryExpression:function(t,e,i){var n="and"===t||"or"===t?"LogicalExpression":"BinaryExpression";return{type:n,operator:t,left:e,right:i}},unaryExpression:function(t,e){return{type:"UnaryExpression",operator:t,argument:e}},memberExpression:function(t,e,i){return{type:"MemberExpression",indexer:e,identifier:i,base:t}},indexExpression:function(t,e){return{type:"IndexExpression",base:t,index:e}},callExpression:function(t,e){return{type:"CallExpression",base:t,arguments:e}},tableCallExpression:function(t,e){return{type:"TableCallExpression",base:t,arguments:e}},stringCallExpression:function(t,e){return{type:"StringCallExpression",base:t,argument:e}},comment:function(t,e){return{type:"Comment",value:t,raw:e}}},Ht=Array.prototype.slice,zt=(Object.prototype.toString,function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1});t.lex=l;var Wt,qt,Ut,Vt,Gt=[];H.prototype.complete=function(){yt.locations&&(this.loc.end.line=Pt.line,this.loc.end.column=Pt.range[1]-Pt.lineStart),yt.ranges&&(this.range[1]=Pt.range[1])},t.parse=mt,t.write=gt,t.end=vt})}),define("ace/mode/lua_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/lua/luaparse"],function(t,e,i){"use strict";var n=t("../lib/oop"),s=t("../worker/mirror").Mirror,o=t("../mode/lua/luaparse"),r=e.Worker=function(t){s.call(this,t),this.setTimeout(500)};n.inherits(r,s),function(){this.onUpdate=function(){var t=this.doc.getValue(),e=[];try{o.parse(t)}catch(i){i instanceof SyntaxError&&e.push({row:i.line-1,column:i.column,text:i.message,type:"error"})}this.sender.emit("annotate",e)}}.call(r.prototype)}),define("ace/lib/es5-shim",["require","exports","module"],function(t,e,i){function n(){}function s(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}function o(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var i=f.call(arguments,1),s=function(){if(this instanceof s){var n=e.apply(this,i.concat(f.call(arguments)));return Object(n)===n?n:this}return e.apply(t,i.concat(f.call(arguments)))};return e.prototype&&(n.prototype=e.prototype,s.prototype=new n,n.prototype=null),s});var r,a,l,c,h,u=Function.prototype.call,d=Array.prototype,p=Object.prototype,f=d.slice,m=u.bind(p.toString),g=u.bind(p.hasOwnProperty);if((h=g(p,"__defineGetter__"))&&(r=u.bind(p.__defineGetter__),a=u.bind(p.__defineSetter__),l=u.bind(p.__lookupGetter__),c=u.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,i=[];return i.splice.apply(i,t(20)),i.splice.apply(i,t(26)),e=i.length,i.splice(5,0,"XXX"),e+1==i.length,e+1==i.length?!0:void 0}()){var v=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?v.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var i=this.length;t>0?t>i&&(t=i):void 0==t?t=0:0>t&&(t=Math.max(i+t,0)),i>t+e||(e=i-t);var n=this.slice(t,t+e),s=f.call(arguments,2),o=s.length;if(t===i)o&&this.push.apply(this,s);else{var r=Math.min(e,i-t),a=t+r,l=a+o-r,c=i-a,h=i-r;if(a>l)for(var u=0;c>u;++u)this[l+u]=this[a+u];else if(l>a)for(u=c;u--;)this[l+u]=this[a+u];if(o&&t===h)this.length=h,this.push.apply(this,s);else for(this.length=h+o,u=0;o>u;++u)this[t+u]=s[u]}return n};Array.isArray||(Array.isArray=function(t){return"[object Array]"==m(t)});var b=Object("a"),y="a"!=b[0]||!(0 in b);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=O(this),i=y&&"[object String]"==m(this)?this.split(""):e,n=arguments[1],s=-1,o=i.length>>>0;if("[object Function]"!=m(t))throw new TypeError;for(;++s<o;)s in i&&t.call(n,i[s],s,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=O(this),i=y&&"[object String]"==m(this)?this.split(""):e,n=i.length>>>0,s=Array(n),o=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var r=0;n>r;r++)r in i&&(s[r]=t.call(o,i[r],r,e));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,i=O(this),n=y&&"[object String]"==m(this)?this.split(""):i,s=n.length>>>0,o=[],r=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var a=0;s>a;a++)a in n&&(e=n[a],t.call(r,e,a,i)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=O(this),i=y&&"[object String]"==m(this)?this.split(""):e,n=i.length>>>0,s=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var o=0;n>o;o++)if(o in i&&!t.call(s,i[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=O(this),i=y&&"[object String]"==m(this)?this.split(""):e,n=i.length>>>0,s=arguments[1];if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");for(var o=0;n>o;o++)if(o in i&&t.call(s,i[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=O(this),i=y&&"[object String]"==m(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var s,o=0;if(arguments.length>=2)s=arguments[1];else for(;;){if(o in i){s=i[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>o;o++)o in i&&(s=t.call(void 0,s,i[o],o,e));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=O(this),i=y&&"[object String]"==m(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=m(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var s,o=n-1;if(arguments.length>=2)s=arguments[1];else for(;;){if(o in i){s=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(s=t.call(void 0,s,i[o],o,e));while(o--);return s}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=y&&"[object String]"==m(this)?this.split(""):O(this),i=e.length>>>0;if(!i)return-1;var n=0;for(arguments.length>1&&(n=o(arguments[1])),n=n>=0?n:Math.max(0,i+n);i>n;n++)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=y&&"[object String]"==m(this)?this.split(""):O(this),i=e.length>>>0;if(!i)return-1;var n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:p)}),!Object.getOwnPropertyDescriptor){var _="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(_+t);if(g(t,e)){var i,n,s;if(i={enumerable:!0,configurable:!0},h){var o=t.__proto__;t.__proto__=p;var n=l(t,e),s=c(t,e);if(t.__proto__=o,n||s)return n&&(i.get=n),s&&(i.set=s),i}return i.value=t[e],i}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var w;w=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var i;if(null===t)i=w();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var n=function(){};n.prototype=t,i=new n,i.__proto__=t}return void 0!==e&&Object.defineProperties(i,e),i}}if(Object.defineProperty){var x=s({}),k="undefined"==typeof document||s(document.createElement("div"));if(!x||!k)var C=Object.defineProperty}if(!Object.defineProperty||C){var E="Property description must be an object: ",T="Object.defineProperty called on non-object: ",A="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,i){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(T+t);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(E+i);if(C)try{return C.call(Object,t,e,i)}catch(n){}if(g(i,"value"))if(h&&(l(t,e)||c(t,e))){var s=t.__proto__;t.__proto__=p,delete t[e],t[e]=i.value,t.__proto__=s}else t[e]=i.value;else{if(!h)throw new TypeError(A);g(i,"get")&&r(t,e,i.get),g(i,"set")&&a(t,e,i.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var i in e)g(e,i)&&Object.defineProperty(t,i,e[i]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(S){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";g(t,e);)e+="?";t[e]=!0;var i=g(t,e);return delete t[e],i}),!Object.keys){var D=!0,F=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],L=F.length;for(var M in{toString:null})D=!1;Object.keys=function R(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var R=[];for(var e in t)g(t,e)&&R.push(e);if(D)for(var i=0,n=L;n>i;i++){var s=F[i];g(t,s)&&R.push(s)}return R}}Date.now||(Date.now=function(){return(new Date).getTime()});var P="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||P.trim()){P="["+P+"]";var N=new RegExp("^"+P+P+"*"),I=new RegExp(P+P+"*$");String.prototype.trim=function(){return String(this).replace(N,"").replace(I,"")}}var O=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}});